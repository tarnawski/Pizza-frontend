<navbar></navbar>

<div class="container">
  <div ng-show="orders.info && orders.count" class="alert alert-info">{{orders.info}}</div>

  <h1 class="page-header">Zamówienia
  <div class="pull-right">
    <button ng-click="orders.refresh()"
            class="btn btn-primary" type="button">Odśwież listę zamówień
    </button>
  </div>
  </h1>
  <div class="panel panel-default">
    <div class="panel-body">
      <table class="table table-striped">
        <thead>
        <tr>
          <th>Data zamówienia</th>
          <th>Zamówienie</th>
          <th>Klient</th>
          <th>Dodatkowe informacje</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="order in orders.orders">
          <td>{{order.create_date | date:'MM/dd/yyyy h:mma'}}</td>
          <td>
            <div ng-repeat="item in order.items">
              <b>{{item.product.name}}</b> ({{item.price.type}})<br>
              {{item.product.description}}<br>
              <b>Cena: {{item.price.value}}</b>
              <br><br>
            </div>
          </td>
          <td>
            {{order.customer.first_name}} {{order.customer.last_name}}<br>
            {{order.customer.email}}<br>
            {{order.customer.phone}}<br>
            {{order.customer.address}}
          </td>
          <td>{{order.description}}</td>
        </tr>
        </tbody>
      </table>

      <ul class="pagination pull-right">
        Strona {{orders.page}} z {{orders.pages}}
        <button ng-show="(orders.page) > 1" ng-click="orders.getPage(orders.page - 1)" class="btn btn-default" type="button">Poprzednia strona</button>
        <button ng-show="(orders.page) < orders.pages" ng-click="orders.getPage(orders.page + 1)" class="btn btn-default" type="button">Następna strona</button>
      </ul>

    </div>
  </div>

</div>
